export function fetchAndCreateElements(dataPath) {
    const elementsContainer = document.getElementById("elements-container");

    fetch(dataPath)
        .then(response => {
            if (!response.ok) {
                throw new Error('Failed to fetch data');
            }
            return response.json();
        })
        .then(data => {
            console.log("Fetched Data:", data);  // Log the fetched data
            const elements = data;

            elements.forEach(element => {
                const elementBox = document.createElement("div");
                elementBox.className = "element-box";

                Object.keys(element).forEach(param => {
                    const value = element[param];

                    if (param === "link") {
                        const link = document.createElement("a");
                        link.href = value;
                        link.className = "link";
                        link.textContent = value;
                        elementBox.appendChild(link);
                    } else if (param === "text") {
                        const title = document.createElement("h3");
                        title.textContent = value;
                        elementBox.appendChild(title);
                    } else {
                        const customElement = document.createElement("div");
                        customElement.className = param;
                        customElement.textContent = param + ": " + value;
                        elementBox.appendChild(customElement);
                    }
                });

                elementsContainer.appendChild(elementBox);
            });

            // Make sure the content is visible now
            document.getElementById("myDiv").style.display = "block";
        })
        .catch(error => {
            console.error("Error fetching data:", error);
            alert("Failed to load the data.");
        });
}
